"use strict";var _interopRequire=function(t){return t&&t.__esModule?t["default"]:t},_inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},_classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},React=_interopRequire(require("react")),Chartist=_interopRequire(require("chartist")),Chart=function(t){function e(a){_classCallCheck(this,e),t.call(this,a),this.state={dataName:"",dataValue:""},this.onMouseOver=this.onMouseOver.bind(this)}return _inherits(e,t),e.prototype.componentDidMount=function(){this.updateChart(this.props)},e.prototype.componentWillReceiveProps=function(t){this.updateChart(t)},e.prototype.componentWillUnmount=function(){this.chartist.detach()},e.prototype.render=function(){return React.createElement("div",null,React.createElement("div",{ref:"chart",className:["ct-chart",this.props.ratio].join(" ").trim(),onMouseOver:this.onMouseOver}),React.createElement("div",{className:"ct-tooltip"},React.createElement("span",null,this.state.dataName),React.createElement("span",null,this.state.dataValue)))},e.prototype.updateChart=function(t){var e=t.type,a=t.data,r=t.options,o=void 0===r?{}:r,n=t.responsiveOptions,i=void 0===n?[]:n;this.chartist?this.chartist.update(a,o,!0):a.series?this.chartist=new Chartist[e](React.findDOMNode(this.refs.chart),a,o,i):null},e.prototype.onMouseOver=function(t){var e=t.target,a=e.parentNode.attributes["ct:name"]?e.parentNode.attributes["ct:name"].value:"",r=e.attributes["ct:value"]?e.attributes["ct:value"].value:"";this.setState({dataName:a,dataValue:r})},e}(React.Component);module.exports=Chart,Chart.propTypes={type:React.PropTypes.string.isRequired,ratio:React.PropTypes.string,data:React.PropTypes.shape({labels:React.PropTypes.array,series:React.PropTypes.array}),options:React.PropTypes.object,responsiveOptions:React.PropTypes.array};